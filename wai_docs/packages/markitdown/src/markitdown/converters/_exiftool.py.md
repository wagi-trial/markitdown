# packages/markitdown/src/markitdown/converters/_exiftool.py

**[‚Üê Back to Parent Directory](./README.md)**

---

<details>
<summary>üìä Documentation Metadata (click to expand)</summary>

```json
{
  "source_file": "packages/markitdown/src/markitdown/converters/_exiftool.py",
  "file_hash": "5f43a283a31e072a33872734f8b82e82174c834d2f3720e65b7036c21a6665eb",
  "last_updated": "2025-12-23T15:50:07.380777+00:00",
  "functions": {
    "_parse_version": {
      "hash": "b12efa8a0b1b45ac7584dcdf609a66548d9103ddf3b79354de2872b0c7671390",
      "lines": "7-10",
      "last_updated": "2025-12-23T15:50:07.380698+00:00"
    }
  }
}
```

</details>



The Python file `_exiftool.py` implements functionality for interacting with the ExifTool utility to extract metadata from files. It includes a function to verify the version of ExifTool and another to process a file stream to retrieve metadata in JSON format. The code ensures that the ExifTool version is not vulnerable to a specific security issue before proceeding with metadata extraction.

The main functions in this file are `_parse_version` and `exiftool_metadata`. The `_parse_version` function takes a version string as input and returns it as a tuple of integers, facilitating version comparison. The `exiftool_metadata` function accepts a binary file stream and an optional path to the ExifTool executable. It verifies the ExifTool version, raises an error if the version is below the minimum required, and then runs ExifTool to extract metadata from the provided file stream, returning the parsed JSON data.

The code imports several modules: `json` for handling JSON data, `locale` for obtaining the preferred encoding, and `subprocess` for executing external commands. It uses `BinaryIO` from the `typing` module to specify the type of the file stream parameter, and `Union` to indicate that the `exiftool_path` can be a string or `None`. The function manipulates data structures such as tuples for version representation and dictionaries for JSON metadata. The output of the ExifTool command is expected to be in JSON format, which is parsed and returned as a Python dictionary.

## Functions and Classes

## `_parse_version`

**Location:** [`packages/markitdown/src/markitdown/converters/_exiftool.py:7`](/packages/markitdown/src/markitdown/converters/_exiftool.py#L7-L10)

# Function Documentation: _parse_version

## Description
The `_parse_version` function takes a version string formatted as "X.Y.Z" (where X, Y, and Z are integers) and converts it into a tuple of integers. The function splits the input string by the period (`.`) character and maps each resulting substring to an integer.

## Parameters
- `version` (str): A string representing the version. It is expected to contain numeric components separated by periods. The function does not enforce any specific format beyond the presence of periods to separate the components.

## Return Value
- Returns a tuple of integers. Each element in the tuple corresponds to a numeric component of the version string, converted from string to integer. For example, the input "1.2.3" will return the tuple `(1, 2, 3)`.

## Dependencies
The function does not have any dependencies on external modules, APIs, or services. It uses built-in Python functions such as `map` and `int`, as well as string methods.

## Usage Example
```python
version_tuple = _parse_version("1.2.3")
# version_tuple will be (1, 2, 3)
```

---


---
*This documentation was automatically generated by AI (Woden DocBot) and may contain errors. It is the responsibility of the user to validate the accuracy and completeness of this documentation.*
